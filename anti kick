-- XyntrixScripts Anti-Kick GUI with your original anti-kick logic

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local mt = getrawmetatable(LocalPlayer)
local pseudoEnv = {
    __index = mt.__index,
    __namecall = mt.__namecall
}
local ReturnFunc = function() end

local hooked = false

-- Function to enable your anti-kick hook
local function EnableAntiKick()
    if hooked then return end
    warn("Made By XyntrixScripts")
    setreadonly(mt, false)

    mt.__namecall = newcclosure(function(self, ...)
        local NameCallMethod = getnamecallmethod()
        if type(NameCallMethod) == "string" then
            if NameCallMethod == "Kick" or NameCallMethod == "kick" then
                print("Prevented Kick At " .. tostring(os.time()))
                return ReturnFunc
            end
        end
        return pseudoEnv.__namecall(self, ...)
    end)

    mt.__index = newcclosure(function(self, Index, ...)
        if type(Index) == "string" then
            if Index == "Kick" or Index == "kick" then
                print("Prevented Kick At " .. tostring(os.time()))
                return ReturnFunc
            end
        end
        return pseudoEnv.__index(self, Index, ...)
    end)

    setreadonly(mt, true)
    hooked = true
end

-- Function to disable hook and restore original metamethods
local function DisableAntiKick()
    if not hooked then return end
    setreadonly(mt, false)
    mt.__namecall = pseudoEnv.__namecall
    mt.__index = pseudoEnv.__index
    setreadonly(mt, true)
    hooked = false
    print("Anti-Kick Disabled at " .. tostring(os.time()))
end

-- Create GUI
local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
ScreenGui.Name = "Xyntrix_AntiKick_GUI"
ScreenGui.ResetOnSpawn = false

local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 200, 0, 90)
Frame.Position = UDim2.new(0, 20, 0, 200)
Frame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
Frame.BorderSizePixel = 0
Frame.Active = true
Frame.Draggable = true

local Title = Instance.new("TextLabel", Frame)
Title.Size = UDim2.new(1, 0, 0, 30)
Title.BackgroundColor3 = Color3.fromRGB(50, 0, 90)
Title.Text = "Anti-Kick GUI"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 18

local Toggle = Instance.new("TextButton", Frame)
Toggle.Size = UDim2.new(1, -20, 0, 40)
Toggle.Position = UDim2.new(0, 10, 0, 40)
Toggle.BackgroundColor3 = Color3.fromRGB(120, 0, 0)
Toggle.Text = "Anti-Kick: OFF"
Toggle.TextColor3 = Color3.fromRGB(255, 255, 255)
Toggle.Font = Enum.Font.Gotham
Toggle.TextSize = 16
Toggle.BorderSizePixel = 0

Toggle.MouseButton1Click:Connect(function()
    if hooked then
        DisableAntiKick()
        Toggle.Text = "Anti-Kick: OFF"
        Toggle.BackgroundColor3 = Color3.fromRGB(120, 0, 0)
    else
        EnableAntiKick()
        Toggle.Text = "Anti-Kick: ON"
        Toggle.BackgroundColor3 = Color3.fromRGB(0, 160, 100)
    end
end)

-- Auto-enable on script load
EnableAntiKick()
Toggle.Text = "Anti-Kick: ON"
Toggle.BackgroundColor3 = Color3.fromRGB(0, 160, 100)
